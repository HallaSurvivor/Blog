---
layout: post
title: Locale Basics
tags:
  - locale-basics
---

This quarter I've been running a reading group for some undergraduates on
[pointless topology][1]. I want to take some time to write down a summary 
of the basics of locales (which are the object of study of pointless topology),
both so that my students can have a reference for what we've covered, and also
because I think there's still a space for a really elementary presentation of 
some of these topics, with a a focus on concrete examples.

So then, let's get to it ^_^

---

Our first few weeks were a crash course on the kind of category theory
that I usually assume my readers know already. We focused on partial orders
and lattices -- this is particularly economical for a few reasons:

First, posets and lattices are simple combinatorial objects that you can 
understand without much background in abstract algebra or topology. We also
get two "levels" of categories out of this, since every poset is a category
in its own right, but we can also consider the category of posets, or any 
one of the zoo of categories of lattices.

In fact, the zoo of lattice categories is nice, because it forces you to 
acknowledge that it's the _arrows_ that matter. After all, frames 
(which we'll define soon) and complete heyting algebras are the same thing! 
We can only distinguish between the categories because the homomorphisms are different.

This means that we can see categorical constructions in multiple lights 
very quickly: Products in a poset are meets, while products in the _category_
of posets are given by a poset of tuples. Adjoint functors between posets
are [galois connections][2], while adjoint functors between the categories
of posets and meet semilattices might be a free/forgetful pair, etc.

After spending time getting to adjoint functors, we defined a topological 
space, and then observed that the lattice of open sets has a certain 
algebraic structure: 

 - Opens are closed under finite intersection
 - Opens are closed under arbitrary union

which we abstract into a definition[^1]:

<div class=boxed markdown=1>
  A <span class=defn>Frame</span> is a lattice $(F, 0, 1, \land, \lor)$ 
  which is closed under _arbitrary_ joins, which we write as $\bigvee a_\alpha$.

  Moreover, we have to explicitly require that 

  $$a \land \left ( \bigvee b_\alpha \right ) = \bigvee (a \land b_\alpha)$$

  (since lattices are not automatically distributive).

  A <span class=defn>Homomorphism of Frames</span> is a map $\varphi : F \to G$
  which preserves finite meets and arbitrary joins.
</div>

Now, since we know that a continuous maps of topological spaces 
$(X,\tau) \to (Y,\sigma)$ 
are in bijection with frame homomorphisms from $\sigma \to \tau$, we 
_define_ the category of <span class=defn>Locales</span> to be opposite
the category of Frames.

---

With these definitions in hand, it's high time for some examples! 

The first important class of examples are the "geometric" ones. 
Every topological space[^2] is specified in terms of either a [base][4]
or a [subbase][5], and we can imitate these constructions exactly in the
world of locales.

Let's do the real numbers to start. These have a basic open for each interval
$(a,b)$. Classically we can take all such intervals, but constructively it's
more hygienic to take only the intervals with rational endpoints. Obviously
these generate the same topology, so we're not losing anything by doing this.

Now, the intervals $(a,b)$ form a [meet semilattice][6] where we define

$$
(a,b) \wedge (a', b') = (\max(a,a'), \min(b,b'))
$$

with the convention that $(a,b) = \bot$ whenever $b \lt a$.

<div class=boxed markdown=1>
As an easy exercise, draw a picture of two intervals $(a,b)$ and $(a',b')$
and convince yourself that their intersection is really given by the meet
as defined above
</div>

This is telling us that our open intervals really are a _basis_ in the 
strong sense that the intersection of two basic opens is basic open. 

From here, we want to define a topology by declaring an open set to be an 
arbitrary union of the basic opens. In the locale-theoretic world, we 
take this meet-semilattice and (freely) close it under arbitrary joins! 

To do that, we recall the adjunction 

<p style="text-align:center;">
<img src="/assets/images/locale-basics/downset-adjunction.png" width="25%">
</p>

where (as usual) $U$ is the forgetful functor and $\mathcal{D}$ is the 
_downset functor_, which sends a poset $P$ to the lattice $\mathcal{D} P$ whose 
elements are the downwards-closed subsets of $P$[^3]. The unit of this adjunction
sends $p \in P$ to $$\downarrow p = \{ x \in P \mid x \leq p \}$$.

Then, at the end of the day, we can define the locale $\mathbb{R}$ to be 
generated by the basic opens $(a,b)$ with $a \lt b \in \mathbb{Q}$. These 
assemble into a meet-semilattice $P$, and the downset lattice 
$\mathcal{D} P$ is a frame.

<div class=boxed markdown=1>
  As a nice exercise, you should check that $\mathcal{D}P$ really is a 
  frame. Moreover, that the inclusion $P \hookrightarrow \mathcal{D}P$ 
  preserves $\land$.
</div>

Of course, there's nothing special about $\mathbb{R}$ here! 

Given any meet-semilattice of basic open sets[^4] $(M, \wedge)$,
the downsets $\mathcal{D}M$ form a locale where every open is the 
union of basic opens in $m$ (here, as usual, we identify $m \in M$ with
the principal downset $\downarrow m \in \mathcal{D}M$).

<div class=boxed markdown=1>
  Can you modify the construction of $\mathbb{R}$ to build a locale for 
  $\mathbb{R}^2$, or more generally $\mathbb{R}^n$?

  In the next blog post of the series, we'll talk about product locales, 
  and we'll show that $\mathbb{R} \times \mathbb{R} \cong \mathbb{R}^2$.
</div>

For another example of building locales from a geometric space, let's
build $S^1$ together! We have a few options for how to do this.

In practice, we use the fact that $S^1$ as a topological space is hausdorff,
thus [sober][10]. Then we appeal to an important theorem 
(which we'll discuss later) that the full subcategory of sober topological
spaces is equivalent to the full subcategory of spatial locales. 

In particular, the usual topology on $S^1$, viewed as a frame, gives a locale
for $S^1$ with no changes necessary.

If we need to, though, we can also build $S^1$ by hand. After all, we can 
describe the open arcs and their intersections as basic opens, then take 
downsets just as we did for $\mathbb{R}$.

However, it would be nice if we could somehow define $S^1$ to be 
$\mathbb{R} / \mathbb{Z}$. In all my reading, I've never actually seen
anybody talk about how to do this, so this blog post seems like a perfect place!

If $\mathbb{Z}$ is acting on $\mathbb{R}$ by translation, 
that means we have an action of $\mathbb{Z}$ on the frame of opens of 
$\mathbb{R}$, where a basic open $(p,q)$ pulls back to the basic open 
$(p-1,q-1)$.

Since locales are dual to frames, a _quotient locale_ (that is, an 
epimorphism) should correspond to a _subframe_ (that is, a monomorphism),
and a moment's meditation on the [quotient topology][11] shows that 
we want to consider the sublocale of open sets fixed by the $\mathbb{Z}$ action.
So a typical open in this sublocale looks like 

$$\bigvee_{n \in \mathbb{Z}} (p-n, q-n)$$

Intuitively, we're identifying an open set of $S^1$ with its preimage in $\mathbb{R}$:

TOOD: put a picture here? 
Take an open arc of the circle, and show its preimage in $\mathbb{R}$

---

TODO: locales as logical objects 

TODO: geometric theory, lindenbaum algebra

TODO: some slightly simpler example than surjections N to R

TODO: examples ($\mathbb{R}$, space of surjections N to R, one more)

TODO: every locale classifies a geoemtric theory

---

TODO: Points, geometrically, then as models

TODO: N --> R is pointless!

---

Exercises

<div class=boxed markdown=1>
  Show that every frame is also a [Heyting Algebra][8]. You can do this
  with abstract nonsense (use the [adjoint functor theorem][9]) or directly
  (give an explicit expression for the arrow $a \implies b$).

  You should do whichever comes less naturally to you 
  (or both, if neither comes naturally).

  As a part 2, you should show that _defining_ frames to be complete 
  heyting algebras is incorrect, since morphisms of heyting algebras 
  should preserve $\implies$, whereas frame homomorphisms don't need to[^5].
</div>

---

Sign off

---

[^1]:
    The definition given on the [nlab][3] is nice because it make the analogy
    with topoi incredibly clear. It's an easy exercise that our definitions
    are equivalent.

[^2]:
    That I can think of right now

[^3]:
    There's actually a _lot_ to say about this construction! It turns out that
    $\mathcal{D}P$ is the same thing as $[P^\text{op},2]$, the monotone maps from 
    $P^\text{op}$ to the two element poset $$\{0,1\}$$ with $0 \leq 1$.

    Then $\mathcal{D}P$ is nothing but the "presheaves on $P$" if we enrich 
    over $2$ instead of $\mathsf{Set}$. This makes it clear that it should be
    the free way of adding joins (colimits) to $P$, by analogy to the presheaves on a 
    category $\mathcal{C}$ being the "free cocompletion" of $\mathcal{C}$.

    There's a _lot_ to say here, since frames/locales are analogous in _many_
    was to grothendieck topoi, and this method of getting a locale by looking
    at "presheaf posets" is one instance of that analogy!

[^4]:
    Notice that we're assuming the intersection of two basic opens is itself
    basic open. The usual definition is that the intersection of two basic 
    opens merely _contains_ a basic open -- this seems like a property that
    should have a name, but I don't know of one. Hopefully someone can
    leave a comment clarifying this ^_^

    Either way, we'll relax this assumption later on in the post!

[^5]:
    You can see [this][7] mathoverflow question if you need a hint.

[1]: https://en.wikipedia.org/wiki/Pointless_topology
[2]: https://en.wikipedia.org/wiki/Galois_connection
[3]: https://ncatlab.org/nlab/show/frame
[4]: https://en.wikipedia.org/wiki/Base_(topology)
[5]: https://en.wikipedia.org/wiki/Subbase
[6]: https://en.wikipedia.org/wiki/Semilattice
[7]: https://mathoverflow.net/questions/248711/an-example-of-a-frame-homomorphism-which-does-not-preserve-heyting-implication
[8]: https://en.wikipedia.org/wiki/Heyting_algebra
[9]: https://ncatlab.org/nlab/show/adjoint+functor+theorem
[10]: https://en.wikipedia.org/wiki/Sober_space
[11]: https://en.wikipedia.org/wiki/Quotient_space_(topology)
